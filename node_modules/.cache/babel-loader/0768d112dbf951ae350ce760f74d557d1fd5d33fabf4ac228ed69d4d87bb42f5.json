{"ast":null,"code":"import{useState,useEffect,useRef}from'react';import{MapContainer,TileLayer,GeoJSON,Popup}from'react-leaflet';import{Send,Bot,User,Zap,MessageCircle,X,Settings}from'lucide-react';import'leaflet/dist/leaflet.css';import worldData from'./countries.geo.json';import L from'leaflet';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";delete L.Icon.Default.prototype._getIconUrl;L.Icon.Default.mergeOptions({iconRetinaUrl:'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png',iconUrl:'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',shadowUrl:'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png'});const WorldMapWithAI=()=>{const[selectedCountry,setSelectedCountry]=useState('');const[selectedCapital,setSelectedCapital]=useState('');const[selectedPopulation,setSelectedPopulation]=useState('');const[totalArea,setTotalArea]=useState('');const[nationalDay,setNationalDay]=useState('');const[languages,setLanguages]=useState([]);const[currency,setCurrency]=useState('');const[loading,setLoading]=useState(true);const[countries,setCountries]=useState(null);const[popupInfo,setPopupInfo]=useState(null);const geoJsonRef=useRef(null);const[isOpen,setIsOpen]=useState(true);const[messages,setMessages]=useState([{id:1,type:'bot',content:'Bună! Sunt AI-ul tău pentru teoria culorilor și geografia culturală, powered by Groq! 🎨⚡🗺️\\n\\nSelectează o țară pe hartă și întreabă-mă despre semnificația culorilor în acea cultură!',timestamp:new Date()}]);const[inputValue,setInputValue]=useState('');const[isTyping,setIsTyping]=useState(false);const[showApiInput,setShowApiInput]=useState(false);const[apiKey,setApiKey]=useState('');const[apiConnected,setApiConnected]=useState(false);const messagesEndRef=useRef(null);useEffect(()=>{setCountries(worldData);setLoading(false);},[]);const scrollToBottom=()=>{var _messagesEndRef$curre;(_messagesEndRef$curre=messagesEndRef.current)===null||_messagesEndRef$curre===void 0?void 0:_messagesEndRef$curre.scrollIntoView({behavior:'smooth'});};useEffect(()=>{scrollToBottom();},[messages]);const systemPrompt=`Ești un expert în teoria culorilor și semnificațiile culturale ale culorilor în diferite țări. \n\nCUNOȘTINȚE IMPORTANTE:\n- ROȘU: China (noroc, prosperitate), India (puritate, fertilitate), Occident (pasiune, dragoste), Africa (viață, sănătate), Japonia (energie, protecție)\n- ALBASTRU: China (nemurire, înțelepciune), India (divinitatea, Krishna), Occident (încredere, pace), Africa (dragoste, armonie), Japonia (puritate, tinerețe)\n- VERDE: China (creștere, armonia), India (natura, fertilitate), Occident (natura, speranța), Africa (fertilitate, vegetația), Japonia (natura, energia vitală)\n- GALBEN: China (putere imperială), India (cunoaștere, învățătură), Occident (fericire, optimism), Africa (bogăția, soarele), Japonia (curaj, frumusețe)\n- VIOLET: China (spiritualitate), India (chakra coroanei), Occident (lux, regalitate), Africa (spiritualitate), Japonia (noblețe, eleganță)\n\nCând utilizatorul selectează o țară pe hartă, oferă informații despre culorile importante în acea cultură.\nRăspunde în română, concis dar informativ. Folosește emoji-uri relevante pentru țări (🇨🇳🇮🇳🌍🇯🇵🇷🇴) și culori (🔴🔵🟢🟡🟣).`;const fetchCountryDetails=async countryName=>{try{const response=await fetch(`https://restcountries.com/v3.1/name/${countryName}`);const data=await response.json();if(!data||!Array.isArray(data)||data.length===0){resetCountryDetails();return;}const countryData=data[0];const capital=countryData.capital?countryData.capital[0]:'Necunoscută';const population=countryData.population?countryData.population.toLocaleString():'Necunoscută';const area=countryData.area?`${countryData.area.toLocaleString()} km²`:'Necunoscută';setSelectedCapital(capital);setSelectedPopulation(population);setTotalArea(area);if(countryData.currencies){const currencyCode=Object.keys(countryData.currencies)[0];setCurrency(`${countryData.currencies[currencyCode].name} (${countryData.currencies[currencyCode].symbol||currencyCode})`);}else{setCurrency('Necunoscută');}setLanguages(countryData.languages?Object.values(countryData.languages):[]);fetchNationalDay(countryData.cca2||countryData.alpha2Code);const aiMessage=`Tocmai am selectat ${countryName} pe hartă. Poți să îmi spui despre culorile importante în cultura din ${countryName}?`;handleAIMessage(aiMessage);}catch(error){console.error('Error fetching country details:',error);resetCountryDetails();}};const fetchNationalDay=async code=>{try{const response=await fetch(`https://date.nager.at/api/v3/publicholidays/2024/${code}`);const holidays=await response.json();if(!Array.isArray(holidays)||holidays.length===0){setNationalDay('Indisponibil');return;}const nationalDayHoliday=holidays.find(holiday=>holiday.types.includes('Public')&&(holiday.name.toLowerCase().includes('national')||holiday.name.toLowerCase().includes('independence')||holiday.name.toLowerCase().includes('republic')||holiday.name.toLowerCase().includes('revolution')||holiday.name.toLowerCase().includes('liberation')));setNationalDay(nationalDayHoliday?`${nationalDayHoliday.date} - ${nationalDayHoliday.name}`:'Necunoscută');}catch(error){console.error('Error fetching national day:',error);setNationalDay('Eroare la obținerea informațiilor');}};const resetCountryDetails=()=>{setSelectedCapital('Necunoscută');setSelectedPopulation('Necunoscută');setTotalArea('Necunoscută');setNationalDay('Necunoscută');setLanguages([]);setCurrency('Necunoscută');};const sendToGroq=async userMessage=>{try{const response=await fetch('https://api.groq.com/openai/v1/chat/completions',{method:'POST',headers:{'Authorization':`Bearer ${apiKey}`,'Content-Type':'application/json'},body:JSON.stringify({model:'llama3-8b-8192',messages:[{role:'system',content:systemPrompt},{role:'user',content:userMessage}],temperature:0.7,max_tokens:300})});if(!response.ok){if(response.status===401){throw new Error('API Key invalid. Verifică cheia ta Groq.');}throw new Error(`Eroare API: ${response.status}`);}const data=await response.json();return data.choices[0].message.content;}catch(error){throw new Error(error.message||'Nu pot conecta la Groq API');}};const getFallbackResponse=input=>{const lowerInput=input.toLowerCase();if(lowerInput.includes('romania')||lowerInput.includes('românia')){return\"🇷🇴 În România, culorile tradiționale sunt roșu, galben și albastru (drapelul). Roșul simbolizează vitejia, galbenul prosperitatea și albastrul libertatea și cerul! De asemenea, în tradițiile populare românești, roșul este foarte important în costume și la sărbători! 🔴🟡🔵\";}if(lowerInput.includes('roșu')||lowerInput.includes('rosu')){if(lowerInput.includes('china')){return\"🇨🇳 În China, roșul simbolizează norocul, fericirea și prosperitatea. Este culoarea tradițională pentru nunți și Anul Nou Chinezesc! 🔴\";}return\"🔴 Roșul are semnificații foarte diferite în culturi: noroc în China 🇨🇳, puritate în India 🇮🇳, pasiune în Occident 🌍, și energie în Japonia 🇯🇵!\";}if(lowerInput.includes('albastru')){return\"🔵 Albastrul simbolizează încrederea și pacea în Occident 🌍, divinitatea în India 🇮🇳, și înțelepciunea în China 🇨🇳!\";}if(lowerInput.includes('verde')){return\"🟢 Verdele reprezintă natura și creșterea în majoritatea culturilor, dar în China 🇨🇳 simbolizează și armonia, iar în Africa fertilitatea pământului!\";}if(selectedCountry){return`🗺️ Ai selectat ${selectedCountry}! Pentru informații complete despre culorile din această cultură, adaugă un Groq API Key. De asemenea, poți întreba despre culori specifice! 🎨`;}return\"🤖 Pentru răspunsuri AI complete, adaugă API Key-ul tău Groq în setări! Selectează o țară pe hartă sau întreabă despre roșu, albastru, verde, galben, violet în diferite culturi! 🎨🗺️\";};const handleAIMessage=async message=>{const userMessage={id:messages.length+1,type:'user',content:message,timestamp:new Date()};setMessages(prev=>[...prev,userMessage]);setIsTyping(true);try{let response;if(apiKey&&apiConnected){response=await sendToGroq(message);setApiConnected(true);}else{await new Promise(resolve=>setTimeout(resolve,1000));response=getFallbackResponse(message);}const botResponse={id:messages.length+2,type:'bot',content:response,timestamp:new Date()};setMessages(prev=>[...prev,botResponse]);}catch(error){setApiConnected(false);const errorResponse={id:messages.length+2,type:'bot',content:`❌ ${error.message}\\n\\n📝 Răspuns local: ${getFallbackResponse(message)}`,timestamp:new Date()};setMessages(prev=>[...prev,errorResponse]);}finally{setIsTyping(false);}};const handleSend=async()=>{if(!inputValue.trim())return;await handleAIMessage(inputValue);setInputValue('');};const testApiKey=async()=>{if(!apiKey.trim())return;setIsTyping(true);try{await sendToGroq(\"Test\");setApiConnected(true);setShowApiInput(false);const successMessage={id:messages.length+1,type:'bot',content:'🎉 Perfect! Groq AI conectat cu succes! Acum pot oferi răspunsuri AI complete despre teoria culorilor și culturile din lume! ⚡🎨🗺️',timestamp:new Date()};setMessages(prev=>[...prev,successMessage]);}catch(error){setApiConnected(false);alert(`Eroare API: ${error.message}`);}finally{setIsTyping(false);}};const handleKeyPress=e=>{if(e.key==='Enter'&&!e.shiftKey){e.preventDefault();handleSend();}};const getCountryStyle=feature=>({color:'black',weight:1,opacity:1,fillOpacity:0.6,fillColor:feature.properties.NAME===selectedCountry||feature.properties.ADMIN===selectedCountry?'#3388ff':'white'});const highlightStyle={fillColor:'#ff7800',weight:2,opacity:1,color:'#ff7800',fillOpacity:0.8};const onEachCountry=(feature,layer)=>{layer.on({mouseover:e=>{const layer=e.target;layer.setStyle(highlightStyle);},mouseout:e=>{const layer=e.target;layer.setStyle(getCountryStyle(feature));},click:e=>{const countryName=feature.properties.NAME||feature.properties.ADMIN||'Țară necunoscută';setSelectedCountry(countryName);fetchCountryDetails(countryName);setPopupInfo({name:countryName,latlng:e.latlng});console.log(`Țară selectată: ${countryName}`);}});};const updateCountryStyles=()=>{if(geoJsonRef.current){geoJsonRef.current.eachLayer(layer=>{layer.setStyle(getCountryStyle(layer.feature));});}};useEffect(()=>{updateCountryStyles();},[selectedCountry]);const suggestedQuestions=[\"Ce înseamnă roșul în China?\",\"Semnificația albastru în India\",\"Cum percep japonezii verdele?\",\"Galben în cultura africană\",\"Culorile tradiționale românești\"];return/*#__PURE__*/_jsxs(\"div\",{className:\"w-full min-h-screen bg-green-800 relative\",children:[loading&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 flex items-center justify-center bg-gray-100 z-40\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-lg\",children:\"Se \\xEEncarc\\u0103 harta lumii...\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col lg:flex-row h-screen\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-full lg:w-3/4 h-3/5 lg:h-full\",children:/*#__PURE__*/_jsxs(MapContainer,{style:{height:'100%',width:'100%'},zoom:2,center:[20,0],minZoom:2,worldCopyJump:false,maxBounds:[[90,-180],[-90,180]],maxBoundsViscosity:1.0,children:[/*#__PURE__*/_jsx(TileLayer,{url:\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",attribution:\"\\xA9 OpenStreetMap contributors\"}),countries&&/*#__PURE__*/_jsx(GeoJSON,{data:countries,onEachFeature:onEachCountry,style:getCountryStyle,ref:geoJsonRef}),popupInfo&&/*#__PURE__*/_jsx(Popup,{position:popupInfo.latlng,onClose:()=>setPopupInfo(null),children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"font-bold text-lg mb-2\",children:[\"\\uD83C\\uDF0D \",popupInfo.name]}),selectedCapital&&selectedCapital!=='Necunoscută'&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:\"Capitala:\"}),\" \",selectedCapital]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600 mt-2\",children:\"\\xCEntreab\\u0103 AI-ul despre culorile din aceast\\u0103 cultur\\u0103! \\u2192\"})]})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full lg:w-1/4 h-2/5 lg:h-full bg-white lg:border-l border-gray-300 flex flex-col\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-orange-500 to-red-500 text-white p-3 lg:p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 lg:space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white/20 p-1 lg:p-2 rounded-full\",children:/*#__PURE__*/_jsx(Zap,{className:\"h-4 w-4 lg:h-5 lg:w-5\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-bold text-sm lg:text-lg\",children:\"AI Culori & Cultur\\u0103\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs lg:text-sm opacity-90 flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:`w-2 h-2 rounded-full mr-2 ${apiConnected?'bg-green-400':'bg-yellow-400'}`}),apiConnected?'Groq conectat':'Mod local']})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-1 lg:space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowApiInput(!showApiInput),className:\"p-1 lg:p-2 hover:bg-white/20 rounded-full transition-colors\",title:\"Set\\u0103ri API\",children:/*#__PURE__*/_jsx(Settings,{className:\"h-3 w-3 lg:h-4 lg:w-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsOpen(false),className:\"p-1 lg:p-2 hover:bg-white/20 rounded-full transition-colors lg:hidden\",children:/*#__PURE__*/_jsx(X,{className:\"h-4 w-4 lg:h-5 lg:w-5\"})})]})]})}),showApiInput&&/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 lg:p-4 bg-orange-50 border-b border-orange-200\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs lg:text-sm text-orange-800 mb-2\",children:\"\\uD83D\\uDD11 Adaug\\u0103 Groq API Key pentru r\\u0103spunsuri AI complete:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:apiKey,onChange:e=>setApiKey(e.target.value),placeholder:\"gsk_...\",className:\"flex-1 px-2 lg:px-3 py-1 text-xs lg:text-sm border border-orange-300 rounded focus:outline-none focus:ring-2 focus:ring-orange-500\"}),/*#__PURE__*/_jsx(\"button\",{onClick:testApiKey,className:\"px-2 lg:px-3 py-1 bg-orange-600 text-white text-xs lg:text-sm rounded hover:bg-orange-700 transition-colors\",children:\"Test\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-orange-600 mt-1\",children:[\"Ob\\u021Bine gratuit de la: \",/*#__PURE__*/_jsx(\"span\",{className:\"font-mono\",children:\"console.groq.com\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 overflow-y-auto p-3 lg:p-4 space-y-3 lg:space-y-4 bg-gray-50\",children:[messages.map(message=>/*#__PURE__*/_jsx(\"div\",{className:`flex ${message.type==='user'?'justify-end':'justify-start'}`,children:/*#__PURE__*/_jsx(\"div\",{className:`max-w-xs px-3 lg:px-4 py-2 rounded-2xl ${message.type==='user'?'bg-gradient-to-r from-orange-500 to-red-500 text-white':'bg-white border border-gray-200 text-gray-800'}`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-2\",children:[message.type==='bot'&&/*#__PURE__*/_jsx(Zap,{className:\"h-3 w-3 lg:h-4 lg:w-4 mt-0.5 text-orange-600 flex-shrink-0\"}),message.type==='user'&&/*#__PURE__*/_jsx(User,{className:\"h-3 w-3 lg:h-4 lg:w-4 mt-0.5 text-white flex-shrink-0\"}),/*#__PURE__*/_jsx(\"div\",{className:\"whitespace-pre-wrap text-xs lg:text-sm leading-relaxed\",children:message.content})]})})},message.id)),isTyping&&/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-start\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white border border-gray-200 text-gray-800 px-3 lg:px-4 py-2 rounded-2xl max-w-xs\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Zap,{className:\"h-3 w-3 lg:h-4 lg:w-4 text-orange-600\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-1.5 h-1.5 lg:w-2 lg:h-2 bg-orange-600 rounded-full animate-bounce\",style:{animationDelay:'0ms'}}),/*#__PURE__*/_jsx(\"div\",{className:\"w-1.5 h-1.5 lg:w-2 lg:h-2 bg-orange-600 rounded-full animate-bounce\",style:{animationDelay:'150ms'}}),/*#__PURE__*/_jsx(\"div\",{className:\"w-1.5 h-1.5 lg:w-2 lg:h-2 bg-orange-600 rounded-full animate-bounce\",style:{animationDelay:'300ms'}})]})]})})}),/*#__PURE__*/_jsx(\"div\",{ref:messagesEndRef})]}),!apiConnected&&/*#__PURE__*/_jsx(\"div\",{className:\"px-3 lg:px-4 py-2 bg-yellow-50 border-t border-yellow-200\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-yellow-800\",children:\"\\u26A1 Pentru AI complet, adaug\\u0103 Groq API Key \\xEEn set\\u0103ri! Momentan ruleaz\\u0103 \\xEEn mod local.\"})}),selectedCountry&&/*#__PURE__*/_jsxs(\"div\",{className:\"px-3 lg:px-4 py-2 bg-blue-50 border-t border-blue-200\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-blue-800\",children:[\"\\uD83D\\uDDFA\\uFE0F \",/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:\"\\u021Aar\\u0103 selectat\\u0103:\"}),\" \",selectedCountry]}),selectedCapital&&selectedCapital!=='Necunoscută'&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-blue-600\",children:[\"\\uD83C\\uDFDB\\uFE0F \",/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:\"Capitala:\"}),\" \",selectedCapital]})]}),messages.length===1&&/*#__PURE__*/_jsxs(\"div\",{className:\"px-3 lg:px-4 py-2 border-t border-gray-200 bg-white\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600 mb-2\",children:\"\\xCEntreb\\u0103ri sugerite:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-1\",children:suggestedQuestions.slice(0,3).map((question,index)=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setInputValue(question),className:\"text-xs text-orange-600 hover:text-orange-800 block w-full text-left p-1 rounded hover:bg-orange-50 transition-colors\",children:question},index))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-3 lg:p-4 border-t border-gray-200 bg-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:inputValue,onChange:e=>setInputValue(e.target.value),onKeyPress:handleKeyPress,placeholder:\"\\xCEntreab\\u0103 despre culori \\u0219i culturi...\",className:\"flex-1 px-3 lg:px-4 py-1.5 lg:py-2 text-xs lg:text-sm border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSend,disabled:!inputValue.trim(),className:\"bg-gradient-to-r from-orange-500 to-red-500 text-white p-1.5 lg:p-2 rounded-full hover:shadow-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed\",children:/*#__PURE__*/_jsx(Send,{className:\"h-4 w-4 lg:h-5 lg:w-5\"})})]})})]})]}),!isOpen&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setIsOpen(true),className:\"fixed bottom-4 right-4 z-50 lg:hidden bg-gradient-to-r from-orange-500 to-red-500 text-white p-3 rounded-full shadow-lg\",children:[/*#__PURE__*/_jsx(MessageCircle,{className:\"h-6 w-6\"}),apiConnected&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute -top-1 -right-1 w-3 h-3 bg-green-400 rounded-full animate-pulse\"})]}),selectedCountry&&/*#__PURE__*/_jsxs(\"div\",{className:\"hidden lg:block fixed bottom-4 left-4 z-40 bg-white bg-opacity-95 rounded-lg p-4 max-w-sm shadow-lg\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"font-bold text-lg mb-2 text-green-800\",children:[\"\\uD83C\\uDF0D \",selectedCountry]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm space-y-1\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:\"Capitala:\"}),\" \",selectedCapital]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:\"Popula\\u021Bia:\"}),\" \",selectedPopulation]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:\"Suprafa\\u021Ba:\"}),\" \",totalArea]}),languages.length>0&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:\"Limbi:\"}),\" \",languages.slice(0,2).join(', ')]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setSelectedCountry('');setPopupInfo(null);resetCountryDetails();},className:\"mt-2 bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded text-xs\",children:\"\\u274C \\u0218terge\"})]})]});};export default WorldMapWithAI;","map":{"version":3,"names":["useState","useEffect","useRef","MapContainer","TileLayer","GeoJSON","Popup","Send","Bot","User","Zap","MessageCircle","X","Settings","worldData","L","jsx","_jsx","jsxs","_jsxs","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","WorldMapWithAI","selectedCountry","setSelectedCountry","selectedCapital","setSelectedCapital","selectedPopulation","setSelectedPopulation","totalArea","setTotalArea","nationalDay","setNationalDay","languages","setLanguages","currency","setCurrency","loading","setLoading","countries","setCountries","popupInfo","setPopupInfo","geoJsonRef","isOpen","setIsOpen","messages","setMessages","id","type","content","timestamp","Date","inputValue","setInputValue","isTyping","setIsTyping","showApiInput","setShowApiInput","apiKey","setApiKey","apiConnected","setApiConnected","messagesEndRef","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","systemPrompt","fetchCountryDetails","countryName","response","fetch","data","json","Array","isArray","length","resetCountryDetails","countryData","capital","population","toLocaleString","area","currencies","currencyCode","Object","keys","name","symbol","values","fetchNationalDay","cca2","alpha2Code","aiMessage","handleAIMessage","error","console","code","holidays","nationalDayHoliday","find","holiday","types","includes","toLowerCase","date","sendToGroq","userMessage","method","headers","body","JSON","stringify","model","role","temperature","max_tokens","ok","status","Error","choices","message","getFallbackResponse","input","lowerInput","prev","Promise","resolve","setTimeout","botResponse","errorResponse","handleSend","trim","testApiKey","successMessage","alert","handleKeyPress","e","key","shiftKey","preventDefault","getCountryStyle","feature","color","weight","opacity","fillOpacity","fillColor","properties","NAME","ADMIN","highlightStyle","onEachCountry","layer","on","mouseover","target","setStyle","mouseout","click","latlng","log","updateCountryStyles","eachLayer","suggestedQuestions","className","children","style","height","width","zoom","center","minZoom","worldCopyJump","maxBounds","maxBoundsViscosity","url","attribution","onEachFeature","ref","position","onClose","onClick","title","value","onChange","placeholder","map","animationDelay","slice","question","index","onKeyPress","disabled","join"],"sources":["/workspaces/educational2025/src/AI/ai.jsx"],"sourcesContent":["import  { useState, useEffect, useRef } from 'react';\nimport { MapContainer, TileLayer, GeoJSON, Popup } from 'react-leaflet';\nimport { Send, Bot, User, Zap, MessageCircle, X, Settings } from 'lucide-react';\nimport 'leaflet/dist/leaflet.css';\n\nimport worldData from './countries.geo.json';\n\n\nimport L from 'leaflet';\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png',\n  iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png',\n});\n\nconst WorldMapWithAI = () => {\n\n  const [selectedCountry, setSelectedCountry] = useState('');\n  const [selectedCapital, setSelectedCapital] = useState('');\n  const [selectedPopulation, setSelectedPopulation] = useState('');\n  const [totalArea, setTotalArea] = useState('');\n  const [nationalDay, setNationalDay] = useState('');\n  const [languages, setLanguages] = useState([]);\n  const [currency, setCurrency] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [countries, setCountries] = useState(null);\n  const [popupInfo, setPopupInfo] = useState(null);\n  const geoJsonRef = useRef(null);\n\n\n  const [isOpen, setIsOpen] = useState(true);\n  const [messages, setMessages] = useState([\n    {\n      id: 1,\n      type: 'bot',\n      content: 'Bună! Sunt AI-ul tău pentru teoria culorilor și geografia culturală, powered by Groq! 🎨⚡🗺️\\n\\nSelectează o țară pe hartă și întreabă-mă despre semnificația culorilor în acea cultură!',\n      timestamp: new Date()\n    }\n  ]);\n  const [inputValue, setInputValue] = useState('');\n  const [isTyping, setIsTyping] = useState(false);\n  const [showApiInput, setShowApiInput] = useState(false);\n  const [apiKey, setApiKey] = useState('');\n  const [apiConnected, setApiConnected] = useState(false);\n  const messagesEndRef = useRef(null);\n\n \n  useEffect(() => {\n    \n    setCountries(worldData);\n    setLoading(false);\n  }, []);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  const systemPrompt = `Ești un expert în teoria culorilor și semnificațiile culturale ale culorilor în diferite țări. \n\nCUNOȘTINȚE IMPORTANTE:\n- ROȘU: China (noroc, prosperitate), India (puritate, fertilitate), Occident (pasiune, dragoste), Africa (viață, sănătate), Japonia (energie, protecție)\n- ALBASTRU: China (nemurire, înțelepciune), India (divinitatea, Krishna), Occident (încredere, pace), Africa (dragoste, armonie), Japonia (puritate, tinerețe)\n- VERDE: China (creștere, armonia), India (natura, fertilitate), Occident (natura, speranța), Africa (fertilitate, vegetația), Japonia (natura, energia vitală)\n- GALBEN: China (putere imperială), India (cunoaștere, învățătură), Occident (fericire, optimism), Africa (bogăția, soarele), Japonia (curaj, frumusețe)\n- VIOLET: China (spiritualitate), India (chakra coroanei), Occident (lux, regalitate), Africa (spiritualitate), Japonia (noblețe, eleganță)\n\nCând utilizatorul selectează o țară pe hartă, oferă informații despre culorile importante în acea cultură.\nRăspunde în română, concis dar informativ. Folosește emoji-uri relevante pentru țări (🇨🇳🇮🇳🌍🇯🇵🇷🇴) și culori (🔴🔵🟢🟡🟣).`;\n\n  const fetchCountryDetails = async (countryName) => {\n    try {\n      const response = await fetch(`https://restcountries.com/v3.1/name/${countryName}`);\n      const data = await response.json();\n      if (!data || !Array.isArray(data) || data.length === 0) {\n        resetCountryDetails();\n        return;\n      }\n\n      const countryData = data[0];\n      const capital = countryData.capital ? countryData.capital[0] : 'Necunoscută';\n      const population = countryData.population ? countryData.population.toLocaleString() : 'Necunoscută';\n      const area = countryData.area ? `${countryData.area.toLocaleString()} km²` : 'Necunoscută';\n\n      setSelectedCapital(capital);\n      setSelectedPopulation(population);\n      setTotalArea(area);\n\n      if (countryData.currencies) {\n        const currencyCode = Object.keys(countryData.currencies)[0];\n        setCurrency(`${countryData.currencies[currencyCode].name} (${countryData.currencies[currencyCode].symbol || currencyCode})`);\n      } else {\n        setCurrency('Necunoscută');\n      }\n\n      setLanguages(countryData.languages ? Object.values(countryData.languages) : []);\n      fetchNationalDay(countryData.cca2 || countryData.alpha2Code);\n\n      const aiMessage = `Tocmai am selectat ${countryName} pe hartă. Poți să îmi spui despre culorile importante în cultura din ${countryName}?`;\n      handleAIMessage(aiMessage);\n\n    } catch (error) {\n      console.error('Error fetching country details:', error);\n      resetCountryDetails();\n    }\n  };\n\n  const fetchNationalDay = async (code) => {\n    try {\n      const response = await fetch(`https://date.nager.at/api/v3/publicholidays/2024/${code}`);\n      const holidays = await response.json();\n      if (!Array.isArray(holidays) || holidays.length === 0) {\n        setNationalDay('Indisponibil');\n        return;\n      }\n\n      const nationalDayHoliday = holidays.find(holiday =>\n        holiday.types.includes('Public') &&\n        (holiday.name.toLowerCase().includes('national') ||\n         holiday.name.toLowerCase().includes('independence') ||\n         holiday.name.toLowerCase().includes('republic') ||\n         holiday.name.toLowerCase().includes('revolution') ||\n         holiday.name.toLowerCase().includes('liberation'))\n      );\n\n      setNationalDay(nationalDayHoliday ? `${nationalDayHoliday.date} - ${nationalDayHoliday.name}` : 'Necunoscută');\n    } catch (error) {\n      console.error('Error fetching national day:', error);\n      setNationalDay('Eroare la obținerea informațiilor');\n    }\n  };\n\n  const resetCountryDetails = () => {\n    setSelectedCapital('Necunoscută');\n    setSelectedPopulation('Necunoscută');\n    setTotalArea('Necunoscută');\n    setNationalDay('Necunoscută');\n    setLanguages([]);\n    setCurrency('Necunoscută');\n  };\n\n  const sendToGroq = async (userMessage) => {\n    try {\n      const response = await fetch('https://api.groq.com/openai/v1/chat/completions', {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${apiKey}`,\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          model: 'llama3-8b-8192',\n          messages: [\n            { role: 'system', content: systemPrompt },\n            { role: 'user', content: userMessage }\n          ],\n          temperature: 0.7,\n          max_tokens: 300\n        })\n      });\n\n      if (!response.ok) {\n        if (response.status === 401) {\n          throw new Error('API Key invalid. Verifică cheia ta Groq.');\n        }\n        throw new Error(`Eroare API: ${response.status}`);\n      }\n\n      const data = await response.json();\n      return data.choices[0].message.content;\n    } catch (error) {\n      throw new Error(error.message || 'Nu pot conecta la Groq API');\n    }\n  };\n\n  const getFallbackResponse = (input) => {\n    const lowerInput = input.toLowerCase();\n    \n    if (lowerInput.includes('romania') || lowerInput.includes('românia')) {\n      return \"🇷🇴 În România, culorile tradiționale sunt roșu, galben și albastru (drapelul). Roșul simbolizează vitejia, galbenul prosperitatea și albastrul libertatea și cerul! De asemenea, în tradițiile populare românești, roșul este foarte important în costume și la sărbători! 🔴🟡🔵\";\n    }\n    \n    if (lowerInput.includes('roșu') || lowerInput.includes('rosu')) {\n      if (lowerInput.includes('china')) {\n        return \"🇨🇳 În China, roșul simbolizează norocul, fericirea și prosperitatea. Este culoarea tradițională pentru nunți și Anul Nou Chinezesc! 🔴\";\n      }\n      return \"🔴 Roșul are semnificații foarte diferite în culturi: noroc în China 🇨🇳, puritate în India 🇮🇳, pasiune în Occident 🌍, și energie în Japonia 🇯🇵!\";\n    }\n    \n    if (lowerInput.includes('albastru')) {\n      return \"🔵 Albastrul simbolizează încrederea și pacea în Occident 🌍, divinitatea în India 🇮🇳, și înțelepciunea în China 🇨🇳!\";\n    }\n    \n    if (lowerInput.includes('verde')) {\n      return \"🟢 Verdele reprezintă natura și creșterea în majoritatea culturilor, dar în China 🇨🇳 simbolizează și armonia, iar în Africa fertilitatea pământului!\";\n    }\n\n    if (selectedCountry) {\n      return `🗺️ Ai selectat ${selectedCountry}! Pentru informații complete despre culorile din această cultură, adaugă un Groq API Key. De asemenea, poți întreba despre culori specifice! 🎨`;\n    }\n\n    return \"🤖 Pentru răspunsuri AI complete, adaugă API Key-ul tău Groq în setări! Selectează o țară pe hartă sau întreabă despre roșu, albastru, verde, galben, violet în diferite culturi! 🎨🗺️\";\n  };\n\n  const handleAIMessage = async (message) => {\n    const userMessage = {\n      id: messages.length + 1,\n      type: 'user',\n      content: message,\n      timestamp: new Date()\n    };\n\n    setMessages(prev => [...prev, userMessage]);\n    setIsTyping(true);\n\n    try {\n      let response;\n      if (apiKey && apiConnected) {\n        response = await sendToGroq(message);\n        setApiConnected(true);\n      } else {\n        await new Promise(resolve => setTimeout(resolve, 1000));\n        response = getFallbackResponse(message);\n      }\n\n      const botResponse = {\n        id: messages.length + 2,\n        type: 'bot',\n        content: response,\n        timestamp: new Date()\n      };\n\n      setMessages(prev => [...prev, botResponse]);\n    } catch (error) {\n      setApiConnected(false);\n      const errorResponse = {\n        id: messages.length + 2,\n        type: 'bot',\n        content: `❌ ${error.message}\\n\\n📝 Răspuns local: ${getFallbackResponse(message)}`,\n        timestamp: new Date()\n      };\n      setMessages(prev => [...prev, errorResponse]);\n    } finally {\n      setIsTyping(false);\n    }\n  };\n\n  const handleSend = async () => {\n    if (!inputValue.trim()) return;\n    await handleAIMessage(inputValue);\n    setInputValue('');\n  };\n\n  const testApiKey = async () => {\n    if (!apiKey.trim()) return;\n    \n    setIsTyping(true);\n    try {\n      await sendToGroq(\"Test\");\n      setApiConnected(true);\n      setShowApiInput(false);\n      \n      const successMessage = {\n        id: messages.length + 1,\n        type: 'bot',\n        content: '🎉 Perfect! Groq AI conectat cu succes! Acum pot oferi răspunsuri AI complete despre teoria culorilor și culturile din lume! ⚡🎨🗺️',\n        timestamp: new Date()\n      };\n      setMessages(prev => [...prev, successMessage]);\n    } catch (error) {\n      setApiConnected(false);\n      alert(`Eroare API: ${error.message}`);\n    } finally {\n      setIsTyping(false);\n    }\n  };\n\n  const handleKeyPress = (e) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSend();\n    }\n  };\n\n  \n  const getCountryStyle = (feature) => ({\n    color: 'black',\n    weight: 1,\n    opacity: 1,\n    fillOpacity: 0.6,\n    fillColor: feature.properties.NAME === selectedCountry || feature.properties.ADMIN === selectedCountry ? '#3388ff' : 'white',\n  });\n\n  const highlightStyle = {\n    fillColor: '#ff7800',\n    weight: 2,\n    opacity: 1,\n    color: '#ff7800',\n    fillOpacity: 0.8\n  };\n\n  const onEachCountry = (feature, layer) => {\n    layer.on({\n      mouseover: (e) => {\n        const layer = e.target;\n        layer.setStyle(highlightStyle);\n      },\n      mouseout: (e) => {\n        const layer = e.target;\n        layer.setStyle(getCountryStyle(feature));\n      },\n      click: (e) => {\n        const countryName = feature.properties.NAME || feature.properties.ADMIN || 'Țară necunoscută';\n        setSelectedCountry(countryName);\n        fetchCountryDetails(countryName);\n        \n        setPopupInfo({\n          name: countryName,\n          latlng: e.latlng\n        });\n        \n        console.log(`Țară selectată: ${countryName}`);\n      }\n    });\n  };\n\n  const updateCountryStyles = () => {\n    if (geoJsonRef.current) {\n      geoJsonRef.current.eachLayer(layer => {\n        layer.setStyle(getCountryStyle(layer.feature));\n      });\n    }\n  };\n\n  useEffect(() => {\n    updateCountryStyles();\n  }, [selectedCountry]);\n\n  const suggestedQuestions = [\n    \"Ce înseamnă roșul în China?\",\n    \"Semnificația albastru în India\", \n    \"Cum percep japonezii verdele?\",\n    \"Galben în cultura africană\",\n    \"Culorile tradiționale românești\"\n  ];\n\n  return (\n    <div className=\"w-full min-h-screen bg-green-800 relative\">\n      {loading && (\n        <div className=\"absolute inset-0 flex items-center justify-center bg-gray-100 z-40\">\n          <div className=\"text-lg\">Se încarcă harta lumii...</div>\n        </div>\n      )}\n      \n   \n      <div className=\"flex flex-col lg:flex-row h-screen\">\n       \n        <div className=\"w-full lg:w-3/4 h-3/5 lg:h-full\">\n          <MapContainer \n            style={{ height: '100%', width: '100%' }} \n            zoom={2} \n            center={[20, 0]}  \n            minZoom={2}  \n            worldCopyJump={false}\n            maxBounds={[[90, -180], [-90, 180]]}  \n            maxBoundsViscosity={1.0}\n          >\n            <TileLayer \n              url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\" \n              attribution=\"&copy; OpenStreetMap contributors\" \n            />\n            \n            {countries && (\n              <GeoJSON \n                data={countries} \n                onEachFeature={onEachCountry}\n                style={getCountryStyle}\n                ref={geoJsonRef} \n              />\n            )}\n            \n            {popupInfo && (\n              <Popup\n                position={popupInfo.latlng}\n                onClose={() => setPopupInfo(null)}\n              >\n                <div className=\"text-center\">\n                  <h3 className=\"font-bold text-lg mb-2\">🌍 {popupInfo.name}</h3>\n                  {selectedCapital && selectedCapital !== 'Necunoscută' && (\n                    <p className=\"text-sm\">\n                      <span className=\"font-semibold\">Capitala:</span> {selectedCapital}\n                    </p>\n                  )}\n                  <p className=\"text-xs text-gray-600 mt-2\">Întreabă AI-ul despre culorile din această cultură! →</p>\n                </div>\n              </Popup>\n            )}\n          </MapContainer>\n        </div>\n\n      \n        <div className=\"w-full lg:w-1/4 h-2/5 lg:h-full bg-white lg:border-l border-gray-300 flex flex-col\">\n       \n          <div className=\"bg-gradient-to-r from-orange-500 to-red-500 text-white p-3 lg:p-4\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center space-x-2 lg:space-x-3\">\n                <div className=\"bg-white/20 p-1 lg:p-2 rounded-full\">\n                  <Zap className=\"h-4 w-4 lg:h-5 lg:w-5\" />\n                </div>\n                <div>\n                  <h3 className=\"font-bold text-sm lg:text-lg\">AI Culori & Cultură</h3>\n                  <p className=\"text-xs lg:text-sm opacity-90 flex items-center\">\n                    <span className={`w-2 h-2 rounded-full mr-2 ${apiConnected ? 'bg-green-400' : 'bg-yellow-400'}`}></span>\n                    {apiConnected ? 'Groq conectat' : 'Mod local'}\n                  </p>\n                </div>\n              </div>\n              <div className=\"flex space-x-1 lg:space-x-2\">\n                <button\n                  onClick={() => setShowApiInput(!showApiInput)}\n                  className=\"p-1 lg:p-2 hover:bg-white/20 rounded-full transition-colors\"\n                  title=\"Setări API\"\n                >\n                  <Settings className=\"h-3 w-3 lg:h-4 lg:w-4\" />\n                </button>\n                <button\n                  onClick={() => setIsOpen(false)}\n                  className=\"p-1 lg:p-2 hover:bg-white/20 rounded-full transition-colors lg:hidden\"\n                >\n                  <X className=\"h-4 w-4 lg:h-5 lg:w-5\" />\n                </button>\n              </div>\n            </div>\n          </div>\n\n        \n          {showApiInput && (\n            <div className=\"p-3 lg:p-4 bg-orange-50 border-b border-orange-200\">\n              <p className=\"text-xs lg:text-sm text-orange-800 mb-2\">\n                🔑 Adaugă Groq API Key pentru răspunsuri AI complete:\n              </p>\n              <div className=\"flex space-x-2\">\n                <input\n                  type=\"password\"\n                  value={apiKey}\n                  onChange={(e) => setApiKey(e.target.value)}\n                  placeholder=\"gsk_...\"\n                  className=\"flex-1 px-2 lg:px-3 py-1 text-xs lg:text-sm border border-orange-300 rounded focus:outline-none focus:ring-2 focus:ring-orange-500\"\n                />\n                <button\n                  onClick={testApiKey}\n                  className=\"px-2 lg:px-3 py-1 bg-orange-600 text-white text-xs lg:text-sm rounded hover:bg-orange-700 transition-colors\"\n                >\n                  Test\n                </button>\n              </div>\n              <p className=\"text-xs text-orange-600 mt-1\">\n                Obține gratuit de la: <span className=\"font-mono\">console.groq.com</span>\n              </p>\n            </div>\n          )}\n\n       \n          <div className=\"flex-1 overflow-y-auto p-3 lg:p-4 space-y-3 lg:space-y-4 bg-gray-50\">\n            {messages.map((message) => (\n              <div\n                key={message.id}\n                className={`flex ${message.type === 'user' ? 'justify-end' : 'justify-start'}`}\n              >\n                <div\n                  className={`max-w-xs px-3 lg:px-4 py-2 rounded-2xl ${\n                    message.type === 'user'\n                      ? 'bg-gradient-to-r from-orange-500 to-red-500 text-white'\n                      : 'bg-white border border-gray-200 text-gray-800'\n                  }`}\n                >\n                  <div className=\"flex items-start space-x-2\">\n                    {message.type === 'bot' && (\n                      <Zap className=\"h-3 w-3 lg:h-4 lg:w-4 mt-0.5 text-orange-600 flex-shrink-0\" />\n                    )}\n                    {message.type === 'user' && (\n                      <User className=\"h-3 w-3 lg:h-4 lg:w-4 mt-0.5 text-white flex-shrink-0\" />\n                    )}\n                    <div className=\"whitespace-pre-wrap text-xs lg:text-sm leading-relaxed\">\n                      {message.content}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))}\n\n            {isTyping && (\n              <div className=\"flex justify-start\">\n                <div className=\"bg-white border border-gray-200 text-gray-800 px-3 lg:px-4 py-2 rounded-2xl max-w-xs\">\n                  <div className=\"flex items-center space-x-2\">\n                    <Zap className=\"h-3 w-3 lg:h-4 lg:w-4 text-orange-600\" />\n                    <div className=\"flex space-x-1\">\n                      <div className=\"w-1.5 h-1.5 lg:w-2 lg:h-2 bg-orange-600 rounded-full animate-bounce\" style={{animationDelay: '0ms'}}></div>\n                      <div className=\"w-1.5 h-1.5 lg:w-2 lg:h-2 bg-orange-600 rounded-full animate-bounce\" style={{animationDelay: '150ms'}}></div>\n                      <div className=\"w-1.5 h-1.5 lg:w-2 lg:h-2 bg-orange-600 rounded-full animate-bounce\" style={{animationDelay: '300ms'}}></div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            )}\n            <div ref={messagesEndRef} />\n          </div>\n\n       \n          {!apiConnected && (\n            <div className=\"px-3 lg:px-4 py-2 bg-yellow-50 border-t border-yellow-200\">\n              <p className=\"text-xs text-yellow-800\">\n                ⚡ Pentru AI complet, adaugă Groq API Key în setări! Momentan rulează în mod local.\n              </p>\n            </div>\n          )}\n\n    \n          {selectedCountry && (\n            <div className=\"px-3 lg:px-4 py-2 bg-blue-50 border-t border-blue-200\">\n              <p className=\"text-xs text-blue-800\">\n                🗺️ <span className=\"font-semibold\">Țară selectată:</span> {selectedCountry}\n              </p>\n              {selectedCapital && selectedCapital !== 'Necunoscută' && (\n                <p className=\"text-xs text-blue-600\">\n                  🏛️ <span className=\"font-semibold\">Capitala:</span> {selectedCapital}\n                </p>\n              )}\n            </div>\n          )}\n\n          {messages.length === 1 && (\n            <div className=\"px-3 lg:px-4 py-2 border-t border-gray-200 bg-white\">\n              <p className=\"text-xs text-gray-600 mb-2\">Întrebări sugerite:</p>\n              <div className=\"space-y-1\">\n                {suggestedQuestions.slice(0, 3).map((question, index) => (\n                  <button\n                    key={index}\n                    onClick={() => setInputValue(question)}\n                    className=\"text-xs text-orange-600 hover:text-orange-800 block w-full text-left p-1 rounded hover:bg-orange-50 transition-colors\"\n                  >\n                    {question}\n                  </button>\n                ))}\n              </div>\n            </div>\n          )}\n\n      \n          <div className=\"p-3 lg:p-4 border-t border-gray-200 bg-white\">\n            <div className=\"flex items-center space-x-2\">\n              <input\n                type=\"text\"\n                value={inputValue}\n                onChange={(e) => setInputValue(e.target.value)}\n                onKeyPress={handleKeyPress}\n                placeholder=\"Întreabă despre culori și culturi...\"\n                className=\"flex-1 px-3 lg:px-4 py-1.5 lg:py-2 text-xs lg:text-sm border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent\"\n              />\n              <button\n                onClick={handleSend}\n                disabled={!inputValue.trim()}\n                className=\"bg-gradient-to-r from-orange-500 to-red-500 text-white p-1.5 lg:p-2 rounded-full hover:shadow-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                <Send className=\"h-4 w-4 lg:h-5 lg:w-5\" />\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n   \n      {!isOpen && (\n        <button\n          onClick={() => setIsOpen(true)}\n          className=\"fixed bottom-4 right-4 z-50 lg:hidden bg-gradient-to-r from-orange-500 to-red-500 text-white p-3 rounded-full shadow-lg\"\n        >\n          <MessageCircle className=\"h-6 w-6\" />\n          {apiConnected && (\n            <div className=\"absolute -top-1 -right-1 w-3 h-3 bg-green-400 rounded-full animate-pulse\"></div>\n          )}\n        </button>\n      )}\n\n      {selectedCountry && (\n        <div className=\"hidden lg:block fixed bottom-4 left-4 z-40 bg-white bg-opacity-95 rounded-lg p-4 max-w-sm shadow-lg\">\n          <h3 className=\"font-bold text-lg mb-2 text-green-800\">🌍 {selectedCountry}</h3>\n          <div className=\"text-sm space-y-1\">\n            <p><span className=\"font-semibold\">Capitala:</span> {selectedCapital}</p>\n            <p><span className=\"font-semibold\">Populația:</span> {selectedPopulation}</p>\n            <p><span className=\"font-semibold\">Suprafața:</span> {totalArea}</p>\n            {languages.length > 0 && (\n              <p><span className=\"font-semibold\">Limbi:</span> {languages.slice(0, 2).join(', ')}</p>\n            )}\n          </div>\n          <button \n            onClick={() => {\n              setSelectedCountry('');\n              setPopupInfo(null);\n              resetCountryDetails();\n            }}\n            className=\"mt-2 bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded text-xs\"\n          >\n            ❌ Șterge\n          </button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default WorldMapWithAI;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}