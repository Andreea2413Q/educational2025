{"ast":null,"code":"import _objectSpread from\"/workspaces/educational2025/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _objectWithoutProperties from\"/workspaces/educational2025/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";const _excluded=[\"color\",\"speed\",\"amplitude\",\"mouseReact\"];import{Renderer,Program,Mesh,Color,Triangle}from\"ogl\";import{useEffect,useRef}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";const vertexShader=\"\\nattribute vec2 uv;\\nattribute vec2 position;\\n\\nvarying vec2 vUv;\\n\\nvoid main() {\\n  vUv = uv;\\n  gl_Position = vec4(position, 0, 1);\\n}\\n\";const fragmentShader=\"\\nprecision highp float;\\n\\nuniform float uTime;\\nuniform vec3 uColor;\\nuniform vec3 uResolution;\\nuniform vec2 uMouse;\\nuniform float uAmplitude;\\nuniform float uSpeed;\\n\\nvarying vec2 vUv;\\n\\nvoid main() {\\n  float mr = min(uResolution.x, uResolution.y);\\n  vec2 uv = (vUv.xy * 2.0 - 1.0) * uResolution.xy / mr;\\n\\n  uv += (uMouse - vec2(0.5)) * uAmplitude;\\n\\n  float d = -uTime * 0.5 * uSpeed;\\n  float a = 0.0;\\n  for (float i = 0.0; i < 8.0; ++i) {\\n    a += cos(i - d - a * uv.x);\\n    d += sin(uv.y * i + a);\\n  }\\n  d += uTime * 0.5 * uSpeed;\\n  vec3 col = vec3(cos(uv * vec2(d, a)) * 0.6 + 0.4, cos(a + d) * 0.5 + 0.5);\\n  col = cos(col * cos(vec3(d, a, 2.5)) * 0.5 + 0.5) * uColor;\\n  gl_FragColor = vec4(col, 1.0);\\n}\\n\";export default function Iridescence(_ref){let{color=[1,1,1],speed=1.0,amplitude=0.1,mouseReact=true}=_ref,rest=_objectWithoutProperties(_ref,_excluded);const ctnDom=useRef(null);const mousePos=useRef({x:0.5,y:0.5});useEffect(()=>{if(!ctnDom.current)return;const ctn=ctnDom.current;const renderer=new Renderer();const gl=renderer.gl;gl.clearColor(1,1,1,1);let program;function resize(){const scale=1;renderer.setSize(ctn.offsetWidth*scale,ctn.offsetHeight*scale);if(program){program.uniforms.uResolution.value=new Color(gl.canvas.width,gl.canvas.height,gl.canvas.width/gl.canvas.height);}}window.addEventListener(\"resize\",resize,false);resize();const geometry=new Triangle(gl);program=new Program(gl,{vertex:vertexShader,fragment:fragmentShader,uniforms:{uTime:{value:0},uColor:{value:new Color(...color)},uResolution:{value:new Color(gl.canvas.width,gl.canvas.height,gl.canvas.width/gl.canvas.height)},uMouse:{value:new Float32Array([mousePos.current.x,mousePos.current.y])},uAmplitude:{value:amplitude},uSpeed:{value:speed}}});const mesh=new Mesh(gl,{geometry,program});let animateId;function update(t){animateId=requestAnimationFrame(update);program.uniforms.uTime.value=t*0.001;renderer.render({scene:mesh});}animateId=requestAnimationFrame(update);ctn.appendChild(gl.canvas);function handleMouseMove(e){const rect=ctn.getBoundingClientRect();const x=(e.clientX-rect.left)/rect.width;const y=1.0-(e.clientY-rect.top)/rect.height;mousePos.current={x,y};program.uniforms.uMouse.value[0]=x;program.uniforms.uMouse.value[1]=y;}if(mouseReact){ctn.addEventListener(\"mousemove\",handleMouseMove);}return()=>{var _gl$getExtension;cancelAnimationFrame(animateId);window.removeEventListener(\"resize\",resize);if(mouseReact){ctn.removeEventListener(\"mousemove\",handleMouseMove);}ctn.removeChild(gl.canvas);(_gl$getExtension=gl.getExtension(\"WEBGL_lose_context\"))===null||_gl$getExtension===void 0?void 0:_gl$getExtension.loseContext();};// eslint-disable-next-line react-hooks/exhaustive-deps\n},[color,speed,amplitude,mouseReact]);return/*#__PURE__*/_jsx(\"div\",_objectSpread({ref:ctnDom,className:\"w-full h-full\"},rest));}","map":{"version":3,"names":["Renderer","Program","Mesh","Color","Triangle","useEffect","useRef","jsx","_jsx","vertexShader","fragmentShader","Iridescence","_ref","color","speed","amplitude","mouseReact","rest","_objectWithoutProperties","_excluded","ctnDom","mousePos","x","y","current","ctn","renderer","gl","clearColor","program","resize","scale","setSize","offsetWidth","offsetHeight","uniforms","uResolution","value","canvas","width","height","window","addEventListener","geometry","vertex","fragment","uTime","uColor","uMouse","Float32Array","uAmplitude","uSpeed","mesh","animateId","update","t","requestAnimationFrame","render","scene","appendChild","handleMouseMove","e","rect","getBoundingClientRect","clientX","left","clientY","top","_gl$getExtension","cancelAnimationFrame","removeEventListener","removeChild","getExtension","loseContext","_objectSpread","ref","className"],"sources":["/workspaces/educational2025/src/Quiz/iridence.jsx"],"sourcesContent":["import { Renderer, Program, Mesh, Color, Triangle } from \"ogl\";\nimport { useEffect, useRef } from \"react\";\n\nconst vertexShader = `\nattribute vec2 uv;\nattribute vec2 position;\n\nvarying vec2 vUv;\n\nvoid main() {\n  vUv = uv;\n  gl_Position = vec4(position, 0, 1);\n}\n`;\n\nconst fragmentShader = `\nprecision highp float;\n\nuniform float uTime;\nuniform vec3 uColor;\nuniform vec3 uResolution;\nuniform vec2 uMouse;\nuniform float uAmplitude;\nuniform float uSpeed;\n\nvarying vec2 vUv;\n\nvoid main() {\n  float mr = min(uResolution.x, uResolution.y);\n  vec2 uv = (vUv.xy * 2.0 - 1.0) * uResolution.xy / mr;\n\n  uv += (uMouse - vec2(0.5)) * uAmplitude;\n\n  float d = -uTime * 0.5 * uSpeed;\n  float a = 0.0;\n  for (float i = 0.0; i < 8.0; ++i) {\n    a += cos(i - d - a * uv.x);\n    d += sin(uv.y * i + a);\n  }\n  d += uTime * 0.5 * uSpeed;\n  vec3 col = vec3(cos(uv * vec2(d, a)) * 0.6 + 0.4, cos(a + d) * 0.5 + 0.5);\n  col = cos(col * cos(vec3(d, a, 2.5)) * 0.5 + 0.5) * uColor;\n  gl_FragColor = vec4(col, 1.0);\n}\n`;\n\nexport default function Iridescence({\n  color = [1, 1, 1],\n  speed = 1.0,\n  amplitude = 0.1,\n  mouseReact = true,\n  ...rest\n}) {\n  const ctnDom = useRef(null);\n  const mousePos = useRef({ x: 0.5, y: 0.5 });\n\n  useEffect(() => {\n    if (!ctnDom.current) return;\n    const ctn = ctnDom.current;\n    const renderer = new Renderer();\n    const gl = renderer.gl;\n    gl.clearColor(1, 1, 1, 1);\n\n    let program;\n\n    function resize() {\n      const scale = 1;\n      renderer.setSize(ctn.offsetWidth * scale, ctn.offsetHeight * scale);\n      if (program) {\n        program.uniforms.uResolution.value = new Color(\n          gl.canvas.width,\n          gl.canvas.height,\n          gl.canvas.width / gl.canvas.height\n        );\n      }\n    }\n    window.addEventListener(\"resize\", resize, false);\n    resize();\n\n    const geometry = new Triangle(gl);\n    program = new Program(gl, {\n      vertex: vertexShader,\n      fragment: fragmentShader,\n      uniforms: {\n        uTime: { value: 0 },\n        uColor: { value: new Color(...color) },\n        uResolution: {\n          value: new Color(\n            gl.canvas.width,\n            gl.canvas.height,\n            gl.canvas.width / gl.canvas.height\n          ),\n        },\n        uMouse: { value: new Float32Array([mousePos.current.x, mousePos.current.y]) },\n        uAmplitude: { value: amplitude },\n        uSpeed: { value: speed },\n      },\n    });\n\n    const mesh = new Mesh(gl, { geometry, program });\n    let animateId;\n\n    function update(t) {\n      animateId = requestAnimationFrame(update);\n      program.uniforms.uTime.value = t * 0.001;\n      renderer.render({ scene: mesh });\n    }\n    animateId = requestAnimationFrame(update);\n    ctn.appendChild(gl.canvas);\n\n    function handleMouseMove(e) {\n      const rect = ctn.getBoundingClientRect();\n      const x = (e.clientX - rect.left) / rect.width;\n      const y = 1.0 - (e.clientY - rect.top) / rect.height;\n      mousePos.current = { x, y };\n      program.uniforms.uMouse.value[0] = x;\n      program.uniforms.uMouse.value[1] = y;\n    }\n    if (mouseReact) {\n      ctn.addEventListener(\"mousemove\", handleMouseMove);\n    }\n\n    return () => {\n      cancelAnimationFrame(animateId);\n      window.removeEventListener(\"resize\", resize);\n      if (mouseReact) {\n        ctn.removeEventListener(\"mousemove\", handleMouseMove);\n      }\n      ctn.removeChild(gl.canvas);\n      gl.getExtension(\"WEBGL_lose_context\")?.loseContext();\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [color, speed, amplitude, mouseReact]);\n\n  return (\n    <div\n      ref={ctnDom}\n      className=\"w-full h-full\"\n      {...rest}\n    />\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}